class SocialFloating extends HTMLElement{constructor(){super(),"/challenge"!==window.location.pathname&&(this.classes={activeClass:"is-active",closingClass:"is-closing"},this.querySelectorAll("[data-social-toggle]").forEach((s=>{s.addEventListener("click",this.onButtonClick.bind(this))})))}onButtonClick(s){s.preventDefault(),theme.config.mqlSmall&&(this.classList.contains(this.classes.activeClass)?this.close():this.open())}open(){this.classList.add(this.classes.activeClass);const s=document.querySelector("promo-popup");s&&s.close()}close(){this.classList.add(this.classes.closingClass),setTimeout((()=>{this.classList.remove(this.classes.activeClass),this.classList.remove(this.classes.closingClass)}),500)}}customElements.define("social-floating",SocialFloating);class PromoPopup extends HTMLElement{constructor(){super(),"/challenge"!==window.location.pathname&&(this.cookieName="beyours:promo-popup",this.classes={bodyClass:"promo-popup--open",activeClass:"is-active",closingClass:"is-closing",showImage:"show-image"},this.popup=this.querySelector(".promo-popup"),this.querySelector(".form__message")&&this.open(),this.querySelectorAll("[data-popup-toggle]").forEach((s=>{s.addEventListener("click",this.onButtonClick.bind(this))})),this.getCookie(this.cookieName)&&"true"!==this.dataset.testMode||this.init())}connectedCallback(){Shopify.designMode&&(this.onShopifySectionLoad=this.onSectionLoad.bind(this),this.onShopifySectionSelect=this.onSectionSelect.bind(this),this.onShopifySectionDeselect=this.onSectionDeselect.bind(this),document.addEventListener("shopify:section:load",this.onShopifySectionLoad),document.addEventListener("shopify:section:select",this.onShopifySectionSelect),document.addEventListener("shopify:section:deselect",this.onShopifySectionDeselect))}disconnectedCallback(){Shopify.designMode&&(document.removeEventListener("shopify:section:load",this.onShopifySectionLoad),document.removeEventListener("shopify:section:select",this.onShopifySectionSelect),document.removeEventListener("shopify:section:deselect",this.onShopifySectionDeselect),document.body.classList.remove(this.classes.bodyClass))}onSectionLoad(s){filterShopifyEvent(s,this,(()=>this.open.bind(this)))}onSectionSelect(s){filterShopifyEvent(s,this,this.open.bind(this))}onSectionDeselect(s){filterShopifyEvent(s,this,this.close.bind(this))}init(){this.popup&&(Shopify&&Shopify.designMode||setTimeout(function(){this.open()}.bind(this),1e3*parseInt(this.dataset.delay)))}onButtonClick(s){s.preventDefault(),this.popup.classList.contains(this.classes.activeClass)?this.close():this.open()}open(){document.body.classList.remove(this.classes.bodyClass),this.popup.classList.add(this.classes.activeClass),setTimeout((()=>{this.popup.classList.add(this.classes.showImage)}),600),"center"===this.popup.dataset.position&&(setScrollbarWidth(),document.body.classList.add(this.classes.bodyClass));const s=document.querySelector("social-floating");s&&s.close()}close(){this.popup.classList.add(this.classes.closingClass),setTimeout((()=>{this.popup.classList.remove(this.classes.activeClass),this.popup.classList.remove(this.classes.closingClass),this.popup.classList.remove(this.classes.showImage),"center"===this.popup.dataset.position&&document.body.classList.remove(this.classes.bodyClass)}),500),"true"!==this.dataset.testMode?this.setCookie(this.cookieName,this.dataset.expiry):this.removeCookie(this.cookieName)}getCookie(s){const e=document.cookie.match(`(^|;)\\s*${s}\\s*=\\s*([^;]+)`);return e?e[2]:null}setCookie(s,e){document.cookie=`${s}=true; max-age=${24*e*60*60}; path=/`}removeCookie(s){document.cookie=`${s}=; max-age=0`}}customElements.define("promo-popup",PromoPopup);