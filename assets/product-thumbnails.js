customElements.get("product-thumbnails")||customElements.define("product-thumbnails",class extends HTMLElement{constructor(){super(),this.mql=window.matchMedia("(min-width: 750px)"),this.querySelectorAll(".product__thumbnail").forEach((t=>t.addEventListener("click",this.onButtonClick.bind(this)))),this.mql.matches&&(this.handleScrollSpy(),this.addEventListener("scrollspy:changed",this.onScrollTargetChanged.bind(this)))}onButtonClick(t){const e=t.target,i=document.querySelector(`[data-media-id="${e.dataset.section}-${e.dataset.mediaId}"]`);if(!i)return;this.stickyHeader=this.stickyHeader||document.querySelector("sticky-header"),this.stickyHeader&&this.stickyHeader.dispatchEvent(new Event("preventHeaderReveal")),window.setTimeout((()=>{i.scrollIntoView({behavior:"smooth"})}));const s=i.querySelector(`#Deferred-Poster-${e.dataset.mediaId}`);s&&s.click()}handleScrollSpy(){const t=new IntersectionObserver((t=>{const e=this.indicesInViewPort[0]||0;if(t.forEach((t=>{this.updateIndicesInViewPort(t,e)})),this.indicesInViewPort=this.indicesInViewPort.filter((function(t,e,i){return i.indexOf(t)===e})),0===this.indicesInViewPort.length||e===this.indicesInViewPort[0])return;const i=new CustomEvent("scrollspy:changed",{detail:{newTarget:this.targets[this.indicesInViewPort[0]],oldTarget:this.targets[e]}});this.dispatchEvent(i)}).bind(this),{rootMargin:"-50px 0px"});this.targets=[],this.targetIndices={},this.indicesInViewPort=[];document.querySelectorAll('[id^="Slider-Gallery"] .product__media-item').forEach(((e,i)=>{this.targets.push(e),this.targetIndices[e.id]=i,t.observe(e)}))}updateIndicesInViewPort(t,e){const i=this.targetIndices[t.target.id];if(0===t.intersectionRatio){const t=this.indicesInViewPort.indexOf(i);-1!==t&&this.indicesInViewPort.splice(t,1)}else i<e?this.indicesInViewPort.unshift(i):i>this.indicesInViewPort[this.indicesInViewPort.length-1]?this.indicesInViewPort.push(i):(this.indicesInViewPort.push(i),this.indicesInViewPort.sort())}onScrollTargetChanged(t){const e=this.querySelectorAll(".product__thumbnail"),i=this.querySelector('.product__thumbnail[data-thumbnail-position="'+t.detail.newTarget.getAttribute("data-media-position")+'"]');e.forEach((function(t){return t.classList.remove("is-active")})),i.classList.add("is-active")}});